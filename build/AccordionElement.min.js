let idCounter=0;window.accordions=[];class AccordionElement extends HTMLElement{constructor({title:a,id:b,isOpen:c,group:d}={}){super(),this._title=a??this.dataset.title??"",this._id=b??this.dataset.id??idCounter++,this._isOpen=c??this.dataset.isOpen??!1,this._group=d??this.dataset.group??"",this._titleElement=this._createTitleElement(),this._bodyElement=this._createBodyElement(),this.appendChild(this._titleElement),this.appendChild(this._bodyElement),window.accordions.push(this),(this.dataset.open!==void 0||this._isOpen)&&this.expand(),this._parentAccordion=null}_createTitleElement(){const a=document.createElement("div");return a.classList.add("accordion-title"),a.innerText=this._title,a.addEventListener("click",()=>this.toggle()),a}_createBodyElement(){const a=document.createElement("div");for(a.classList.add("accordion-body");0<this.childElementCount;){const b=this.children[0];a.appendChild(b.cloneNode(!0)),b.remove()}return a}get id(){return this._id}get group(){return this._group}set group(a){this._group=a,this.dataset.group=a}get title(){return this._title}set title(a){this._title=a,this._titleElement.innerText=a}get isOpen(){return this._isOpen}get bodyElement(){return this._bodyElement}set body(a){Array.from(this._bodyElement.children).forEach(a=>a?.remove()),this._bodyElement.appendChild(a)}expand(){AccordionElement.findAccordionsByGroup(this._group).filter(a=>a!==this&&a!==this._parentAccordion).forEach(a=>a.collapse()),this._isOpen=!0,this._bodyElement.style.height=`${this._bodyElement.scrollHeight}px`,this._parentAccordion?.isOpen&&(this._parentAccordion.bodyElement.style.height=Number.parseFloat(this._parentAccordion.bodyElement.style.height.replace(/px/,""))+this.bodyElement.scrollHeight+"px"),this.classList.add("open")}collapse(){this._isOpen&&(this._isOpen=!1,this._parentAccordion&&(this._parentAccordion.bodyElement.style.height=this._parentAccordion.bodyElement.clientHeight-this.bodyElement.scrollHeight+"px"),this._bodyElement.style.height="0",this.classList.remove("open"),Array.from(this.querySelectorAll("accordion-element")).forEach(a=>a.collapse()))}toggle(){this._isOpen?this.collapse():this.expand()}_getParentAccordion(){let a=[],b=this;for(;b?.parentNode;)a.push(b.parentNode),b=b.parentNode;return a=a.filter(a=>"ACCORDION-ELEMENT"===a?.tagName),0<a.length?a[0]:null}connectedCallback(){this.isConnected&&(this._parentAccordion=this._getParentAccordion(),this._initialParentAccordionHeight=null===this._parentAccordion?0:this._parentAccordion.scrollHeight)}static findAccordionById(a){try{return window.accordions.filter(b=>b.id===a)[0]}catch(a){return null}}static findAccordionsByGroup(a){return window.accordions.filter(b=>b.group.toLowerCase()===a.toLowerCase())}}class AccordionFan extends HTMLElement{constructor(){super(),Array.from(this.querySelectorAll("accordion-element")).forEach(a=>a.group=`fan-${idCounter}`),idCounter++}}customElements.define("accordion-element",AccordionElement),customElements.define("accordion-fan",AccordionFan),window.AccordionElement=AccordionElement;