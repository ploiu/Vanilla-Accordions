let idCounter=0;window.accordions=[];class AccordionElement extends HTMLElement{constructor(){super(),this._title=this.dataset.title??"",this._id=this.dataset.id??idCounter++,this._isOpen=this.dataset.isOpen??!1,this._group=this.dataset.group??"",this._titleElement=this._createTitleElement(),this._bodyElement=this._createBodyElement(),this.appendChild(this._titleElement),this.appendChild(this._bodyElement),window.accordions.push(this),this.dataset.open!==void 0&&this.expand(),this._initialHeight=this.scrollHeight+this._bodyElement.scrollHeight}_createTitleElement(){const a=document.createElement("div");return a.classList.add("accordion-title"),a.innerText=this._title,a.addEventListener("click",()=>this.toggle()),a}_createBodyElement(){const a=document.createElement("div");for(a.classList.add("accordion-body");0<this.childElementCount;){const b=this.children[0];a.appendChild(b.cloneNode(!0)),b.remove()}return a}get id(){return this._id}get group(){return this._group}set group(a){this._group=a,this.dataset.group=a}get title(){return this._title}set title(a){this._title=a,this._titleElement.innerText=a}expand(){this._isOpen=!0,this._bodyElement.style.height=`${this._bodyElement.scrollHeight+Array.from(this._bodyElement.querySelectorAll(".accordion-body")).map(a=>a.scrollHeight).reduce((c,a)=>c+a,0)}px`,this.classList.add("open"),AccordionElement.findAccordionsByGroup(this._group).filter(a=>a!==this).forEach(a=>a.collapse())}collapse(){this._isOpen=!1,this._bodyElement.style.height="0",this.classList.remove("open")}toggle(){this._isOpen?this.collapse():this.expand()}calculateChildHeight(){return Array.from(this._bodyElement.children).map(a=>a.scrollHeight).reduce((c,a)=>c+a)}static findAccordionById(a){try{return window.accordions.filter(b=>b.id===a)[0]}catch(a){return null}}static findAccordionsByGroup(a){return window.accordions.filter(b=>b.group.toLowerCase()===a.toLowerCase())}}customElements.define("accordion-element",AccordionElement),window.AccordionElement=AccordionElement;